{"version":3,"sources":["components/astrology/zegocloud/LiveVideo.js"],"names":["randomID","len","result","i","chars","maxPos","length","charAt","Math","floor","random","getUrlParams","url","window","location","href","urlStr","split","URLSearchParams","LiveVideo","roomID","get","role_str","role","ZegoUIKitPrebuilt","Host","Cohost","Audience","sharedLinks","push","name","origin","pathname","kitToken","generateKitTokenForTest","myMeeting","element","create","joinRoom","container","scenario","mode","LiveStreaming","config","className","ref","style","width","height"],"mappings":"0PACA,06MAGA,SAASA,EAASC,GAChB,IAAIC,EAAS,GACb,GAAIA,EAAQ,OAAOA,EACnB,IAEEC,EAFEC,EAAQ,iEACVC,EAASD,EAAME,OAGjB,IADAL,EAAMA,GAAO,EACRE,EAAI,EAAGA,EAAIF,EAAKE,IACnBD,GAAUE,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEpD,OAAOH,EAGF,SAASS,IAEI,IADlBC,EAAW,uDAAGC,OAAOC,SAASC,KAE1BC,EAASJ,EAAIK,MAAM,KAAK,GAC5B,OAAO,IAAIC,gBAAgBF,GAGd,SAASG,IACtB,IAAMC,EAAST,IAAeU,IAAI,WAAarB,EAAS,GACpDsB,EAAWX,EAAaE,OAAOC,SAASC,MAAMM,IAAI,SAAW,OAC3DE,EACS,SAAbD,EACIE,oBAAkBC,KACL,WAAbH,EACAE,oBAAkBE,OAClBF,oBAAkBG,SAEpBC,EAAc,GACdL,IAASC,oBAAkBC,MAAQF,IAASC,oBAAkBE,QAChEE,EAAYC,KAAK,CACfC,KAAM,kBACNlB,IACEC,OAAOC,SAASiB,OAChBlB,OAAOC,SAASkB,SAChB,WACAZ,EACA,iBAGNQ,EAAYC,KAAK,CACfC,KAAM,mBACNlB,IACEC,OAAOC,SAASiB,OAChBlB,OAAOC,SAASkB,SAChB,WACAZ,EACA,mBAGJ,IAEMa,EAAWT,oBAAkBU,wBAFrB,UACO,mCAInBd,EACApB,EAAS,GACTA,EAAS,IAIPmC,EAAS,uCAAG,WAAOC,GAAuB,iEAEjCZ,oBAAkBa,OAAOJ,GAEjCK,SAAS,CACVC,UAAWH,EACXI,SAAU,CACRC,KAAMjB,oBAAkBkB,cACxBC,OAAQ,CACNpB,SAGJK,gBACC,2CACJ,gBAdY,sCAgBb,OACE,uBACEgB,UAAU,kBACVC,IAAKV,EACLW,MAAO,CAAEC,MAAO,QAASC,OAAQ","file":"static/js/117.1fe4748f.chunk.js","sourcesContent":["import * as React from \"react\";\r\n// import './style.css';\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\n\r\nfunction randomID(len) {\r\n  let result = \"\";\r\n  if (result) return result;\r\n  var chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\",\r\n    maxPos = chars.length,\r\n    i;\r\n  len = len || 5;\r\n  for (i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getUrlParams(\r\n  url: string = window.location.href\r\n): URLSearchParams {\r\n  let urlStr = url.split(\"?\")[1];\r\n  return new URLSearchParams(urlStr);\r\n}\r\n\r\nexport default function LiveVideo() {\r\n  const roomID = getUrlParams().get(\"roomID\") || randomID(5);\r\n  let role_str = getUrlParams(window.location.href).get(\"role\") || \"Host\";\r\n  const role =\r\n    role_str === \"Host\"\r\n      ? ZegoUIKitPrebuilt.Host\r\n      : role_str === \"Cohost\"\r\n      ? ZegoUIKitPrebuilt.Cohost\r\n      : ZegoUIKitPrebuilt.Audience;\r\n\r\n  let sharedLinks = [];\r\n  if (role === ZegoUIKitPrebuilt.Host || role === ZegoUIKitPrebuilt.Cohost) {\r\n    sharedLinks.push({\r\n      name: \"Join as co-host\",\r\n      url:\r\n        window.location.origin +\r\n        window.location.pathname +\r\n        \"?roomID=\" +\r\n        roomID +\r\n        \"&role=Cohost\",\r\n    });\r\n  }\r\n  sharedLinks.push({\r\n    name: \"Join as audience\",\r\n    url:\r\n      window.location.origin +\r\n      window.location.pathname +\r\n      \"?roomID=\" +\r\n      roomID +\r\n      \"&role=Audience\",\r\n  });\r\n  // generate Kit Token\r\n  const appID = 117315587;\r\n  const serverSecret = \"7d73c3ebbc300b3863c13e2711a69195\";\r\n  const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n    appID,\r\n    serverSecret,\r\n    roomID,\r\n    randomID(5),\r\n    randomID(5)\r\n  );\r\n\r\n  // start the call\r\n  let myMeeting = async (element: HTMLDivElement) => {\r\n    // Create instance object from Kit Token.\r\n    const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n    // start the call\r\n    zp.joinRoom({\r\n      container: element,\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.LiveStreaming,\r\n        config: {\r\n          role,\r\n        },\r\n      },\r\n      sharedLinks,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"myCallContainer\"\r\n      ref={myMeeting}\r\n      style={{ width: \"100vw\", height: \"100vh\" }}\r\n    ></div>\r\n  );\r\n}\r\n"],"sourceRoot":""}